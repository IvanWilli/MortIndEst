<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Estimate adult mortality with one survey/census from orphanhood data. — orphanhood_one • MortIndEst</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Estimate adult mortality with one survey/census from orphanhood data. — orphanhood_one"><meta name="description" content="Follows IUSSP (2012) implementation for estimate adult mortality from orphanhood data, based in Timæus (1992).
The function also include the possibility to match the closest model life table (not using Brass logit given a pattern as default method), for some specific family (if no family is set, then return results for all CD and UN).
Two options for considering HIV populations: one is following Timæus and Nunn (1997) (implemented in IUSSP (2012)), and other is using the Spectrum model (Stover and others, 2012). The last needs additional data on HIV_prop_partner, HIV_art."><meta property="og:description" content="Follows IUSSP (2012) implementation for estimate adult mortality from orphanhood data, based in Timæus (1992).
The function also include the possibility to match the closest model life table (not using Brass logit given a pattern as default method), for some specific family (if no family is set, then return results for all CD and UN).
Two options for considering HIV populations: one is following Timæus and Nunn (1997) (implemented in IUSSP (2012)), and other is using the Spectrum model (Stover and others, 2012). The last needs additional data on HIV_prop_partner, HIV_art."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">MortIndEst</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/ExtrapConstrained_CensusMethod.html">Constrained Extrapolation and Census Method</a></li>
    <li><a class="dropdown-item" href="../articles/IntercensalSurvival.html">Intercensal survival methods</a></li>
    <li><a class="dropdown-item" href="../articles/Orphanhood.html">Orphanhood</a></li>
    <li><a class="dropdown-item" href="../articles/Siblings_Widowhood.html">Siblings and Widowhood</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Estimate adult mortality with one survey/census from orphanhood data.</h1>

      <div class="d-none name"><code>orphanhood_one.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Follows IUSSP (2012) implementation for estimate adult mortality from orphanhood data, based in Timæus (1992).
The function also include the possibility to match the closest model life table (not using Brass logit given a pattern as default method), for some specific family (if no family is set, then return results for all CD and UN).
Two options for considering HIV populations: one is following Timæus and Nunn (1997) (implemented in IUSSP (2012)), and other is using the Spectrum model (Stover and others, 2012). The last needs additional data on <code>HIV_prop_partner</code>, <code>HIV_art</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">orphanhood_one</span><span class="op">(</span></span>
<span>  <span class="va">prop_not_orphan</span>,</span>
<span>  <span class="va">age</span>,</span>
<span>  maternal <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  mac <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  date <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  mlt_data_input <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  mlt_family <span class="op">=</span> <span class="st">"CD_West"</span>,</span>
<span>  brass_logit <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  brass_logit_e0 <span class="op">=</span> <span class="fl">60</span>,</span>
<span>  brass_logit_5q0 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  HIV_prev_antenatal <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  HIV_vert_transm <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">3</span>,</span>
<span>  HIV_fert_ratio <span class="op">=</span> <span class="fl">3</span><span class="op">/</span><span class="fl">4</span>,</span>
<span>  HIV_parents_surv <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.75</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">age</span><span class="op">)</span> <span class="op">-</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  HIV_prop_partner <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">2</span>,</span>
<span>  HIV_prev <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  HIV_art <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  e0_accept <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">100</span><span class="op">)</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-prop-not-orphan">prop_not_orphan<a class="anchor" aria-label="anchor" href="#arg-prop-not-orphan"></a></dt>
<dd><p>numeric vector. Population proportion of respondents with mother/father alive, by age groups.</p></dd>


<dt id="arg-age">age<a class="anchor" aria-label="anchor" href="#arg-age"></a></dt>
<dd><p>integer vector. Lower bound of age groups from first census. Last age is assumed as lower age from the open age group.</p></dd>


<dt id="arg-maternal">maternal<a class="anchor" aria-label="anchor" href="#arg-maternal"></a></dt>
<dd><p>logical. Either <code>TRUE</code> for maternal orphanhood (default) or <code>FALSE</code> for paternal orphanhood.</p></dd>


<dt id="arg-mac">mac<a class="anchor" aria-label="anchor" href="#arg-mac"></a></dt>
<dd><p>numeric. Mean age at childbearing for mothers/fathers.</p></dd>


<dt id="arg-date">date<a class="anchor" aria-label="anchor" href="#arg-date"></a></dt>
<dd><p>Either a <code>Date</code> class object or an unambiguous character string in the format <code>"YYYY-MM-DD"</code>. Reference date for the source (typically census or survey).</p></dd>


<dt id="arg-mlt-data-input">mlt_data_input<a class="anchor" aria-label="anchor" href="#arg-mlt-data-input"></a></dt>
<dd><p>data.frame. If is <code>NULL</code> then model life tables is used, available from <code>Morcast</code> package. But specific pattern can be included (<code>l_x</code> must be included, see examples).</p></dd>


<dt id="arg-mlt-family">mlt_family<a class="anchor" aria-label="anchor" href="#arg-mlt-family"></a></dt>
<dd><p>character. Options: "CD_East", "CD_North", "CD_South", "CD_West", "UN_Chilean", "UN_Far_Eastern", "UN_General", "UN_Latin_American", "UN_South_Asian". If <code>NULL</code> returns results for all.</p></dd>


<dt id="arg-brass-logit">brass_logit<a class="anchor" aria-label="anchor" href="#arg-brass-logit"></a></dt>
<dd><p>logical. Doing a level smoothing with 1-parameter logit Brass.</p></dd>


<dt id="arg-brass-logit-e-">brass_logit_e0<a class="anchor" aria-label="anchor" href="#arg-brass-logit-e-"></a></dt>
<dd><p>numeric. Life expectancy at birth when <code>brass_logit</code> is <code>TRUE</code>.</p></dd>


<dt id="arg-brass-logit-q-">brass_logit_5q0<a class="anchor" aria-label="anchor" href="#arg-brass-logit-q-"></a></dt>
<dd><p>numeric. Find best level when <code>brass_logit_e0</code> is <code>NULL</code>. If this is not <code>NULL</code>, then implied level replaces <code>brass_logit_e0</code>.</p></dd>


<dt id="arg-hiv-prev-antenatal">HIV_prev_antenatal<a class="anchor" aria-label="anchor" href="#arg-hiv-prev-antenatal"></a></dt>
<dd><p>numeric. Estimates of the prevalence by age of HIV infection among women attending antenatal clinics. If some value is assigned, then will be assumed AIDS variation of the method.</p></dd>


<dt id="arg-hiv-vert-transm">HIV_vert_transm<a class="anchor" aria-label="anchor" href="#arg-hiv-vert-transm"></a></dt>
<dd><p>numeric. Estimate of proportion of infants who acquire HIV from their mothers.</p></dd>


<dt id="arg-hiv-fert-ratio">HIV_fert_ratio<a class="anchor" aria-label="anchor" href="#arg-hiv-fert-ratio"></a></dt>
<dd><p>numeric. Estimate of relative level of fertility among HIV-positive women compared with HIV-negative women.</p></dd>


<dt id="arg-hiv-prop-partner">HIV_prop_partner<a class="anchor" aria-label="anchor" href="#arg-hiv-prop-partner"></a></dt>
<dd><p>numeric. Estimate of the proportion of men with infected female partner.</p></dd>


<dt id="arg-e-accept">e0_accept<a class="anchor" aria-label="anchor" href="#arg-e-accept"></a></dt>
<dd><p>integer vector. Range acceptable when calculating the median of implied level by age (avoid non-possible extrapolations). By deafult between 20 and 100.</p></dd>


<dt id="arg-hiv-prev-males">HIV_prev_males<a class="anchor" aria-label="anchor" href="#arg-hiv-prev-males"></a></dt>
<dd><p>numeric. Estimates of population-based estimate of HIV prevalence among men by age. If some value is assigned, then will be assumed AIDS variation of the method.</p></dd>

</dl></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Examples from IUUSP Tools for Demographic Estimation</span></span></span>
<span class="r-in"><span><span class="co"># Orhpanhood 1 census</span></span></span>
<span class="r-in"><span><span class="co"># Maternal orphanhood - Male respondents - Irak ("AM_Orphanhood_OneCensus_Basic - Iraq_v2.xlsx")</span></span></span>
<span class="r-in"><span><span class="va">standard_iusssp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">15</span>, <span class="fl">85</span>, <span class="fl">5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                              lx <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.8868</span>,<span class="fl">0.8763</span>,<span class="fl">0.8621</span>,<span class="fl">0.8467</span>,<span class="fl">0.8296</span>,<span class="fl">0.8094</span>,<span class="fl">0.7845</span>, <span class="fl">0.7527</span>,<span class="fl">0.7096</span>,<span class="fl">0.6515</span>,<span class="fl">0.5724</span>,<span class="fl">0.4700</span>,<span class="fl">0.3443</span>,<span class="fl">0.2101</span>,<span class="fl">0.0962</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">irak_1997</span> <span class="op">&lt;-</span> <span class="fu">orphanhood_one</span><span class="op">(</span>prop_not_orphan <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.9918</span>,<span class="fl">0.9819</span>,<span class="fl">0.9665</span>,<span class="fl">0.9415</span>,<span class="fl">0.9005</span>,<span class="fl">0.8374</span>,<span class="fl">0.7678</span>,<span class="fl">0.6380</span>,<span class="fl">0.4941</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>               age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">45</span>, <span class="fl">5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>               mac <span class="op">=</span> <span class="fl">28.2807464</span>,</span></span>
<span class="r-in"><span>               date <span class="op">=</span> <span class="fl">1997.79</span>,</span></span>
<span class="r-in"><span>               mlt_data_input <span class="op">=</span> <span class="va">standard_iusssp</span>,</span></span>
<span class="r-in"><span>               brass_logit <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">publ_rr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">45</span>, <span class="fl">5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  q15_45 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.072</span>, <span class="fl">0.085</span>, <span class="fl">0.096</span>, <span class="fl">0.110</span>, <span class="fl">0.126</span>, <span class="fl">0.143</span>, <span class="fl">0.137</span>, <span class="fl">0.159</span>, <span class="fl">0.167</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  Date     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1994.2</span>, <span class="fl">1992.1</span>, <span class="fl">1990.1</span>, <span class="fl">1988.5</span>, <span class="fl">1987.0</span>, <span class="fl">1985.9</span>, <span class="fl">1985.5</span>, <span class="cn">NA</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">publ_rr</span><span class="op">$</span><span class="va">q15_45</span><span class="op">-</span><span class="va">irak_1997</span><span class="op">$</span><span class="va">adult_mort_index</span><span class="op">$</span><span class="va">q15_45</span>, <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Orphanhood HIV</span></span></span>
<span class="r-in"><span><span class="co"># maternal Kenya HIV 1999 ("AM_Orphanhood_OneCensus_AIDS Kenya_v2.xlsx")</span></span></span>
<span class="r-in"><span><span class="va">standard_iusssp_aids</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">15</span>, <span class="fl">85</span>, <span class="fl">5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                                   lx <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.8847</span>,<span class="fl">0.8603</span>, <span class="fl">0.8173</span>,<span class="fl">0.7677</span>, <span class="fl">0.7247</span>,<span class="fl">0.6913</span>, <span class="fl">0.6645</span>,<span class="fl">0.6281</span>, <span class="fl">0.5783</span>,<span class="fl">0.5110</span>, <span class="fl">0.4225</span>,<span class="fl">0.3149</span>, <span class="fl">0.2012</span>,<span class="fl">0.1021</span>, <span class="fl">0.0377</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">kenya_1999_maternal_aids</span> <span class="op">&lt;-</span> <span class="fu">orphanhood_one</span><span class="op">(</span></span></span>
<span class="r-in"><span>  prop_not_orphan <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.9732</span>, <span class="fl">0.9560</span>, <span class="fl">0.9336</span>, <span class="fl">0.9080</span>, <span class="fl">0.8771</span>, <span class="fl">0.8244</span>, <span class="fl">0.7691</span>, <span class="fl">0.6685</span>, <span class="fl">0.5653</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">45</span>, <span class="fl">5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  mac <span class="op">=</span> <span class="fl">26.75048387</span>,</span></span>
<span class="r-in"><span>  maternal <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  date <span class="op">=</span> <span class="fl">1999.64</span>,</span></span>
<span class="r-in"><span>  mlt_data_input <span class="op">=</span> <span class="va">standard_iusssp_aids</span>,</span></span>
<span class="r-in"><span>  brass_logit <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  HIV_prev_antenatal <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.07</span>, <span class="fl">.01</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">7</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  HIV_vert_transm <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">3</span>,</span></span>
<span class="r-in"><span>  HIV_fert_ratio <span class="op">=</span> <span class="fl">3</span><span class="op">/</span><span class="fl">4</span><span class="op">)</span><span class="op">$</span><span class="va">adult_mort_index</span></span></span>
<span class="r-in"><span><span class="va">rr_45q15</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.368</span>, <span class="fl">0.179</span>, <span class="fl">0.183</span>, <span class="fl">0.189</span>, <span class="fl">0.183</span>, <span class="fl">0.185</span>, <span class="fl">0.165</span>, <span class="fl">0.161</span>, <span class="fl">0.139</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="op">(</span><span class="va">kenya_1999_maternal_aids</span><span class="op">$</span><span class="va">q15_45</span><span class="op">/</span><span class="va">rr_45q15</span><span class="op">)</span><span class="op">-</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by First Last.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

