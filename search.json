[{"path":"https://ivanwilli.github.io/MortIndEst/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Ivan Williams. Author, maintainer. Patrick Gerland. Author, contributor.","code":""},{"path":"https://ivanwilli.github.io/MortIndEst/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Williams , Gerland P (2025). MortIndEst: Indirect estimates adult mortality. R package version 0.0.0.9000, https://ivanwilli.github.io/MortIndEst/.","code":"@Manual{,   title = {MortIndEst: Indirect estimates of adult mortality},   author = {Ivan Williams and Patrick Gerland},   year = {2025},   note = {R package version 0.0.0.9000},   url = {https://ivanwilli.github.io/MortIndEst/}, }"},{"path":"https://ivanwilli.github.io/MortIndEst/index.html","id":"mortindest","dir":"","previous_headings":"","what":"Indirect estimates of adult mortality","title":"Indirect estimates of adult mortality","text":"package includes several functions indirect estimates, specially adult mortality. Main development done World Population Prospects revision 2024, goal include inputs B3 model (United Nations: Department Economic Social Affairs 2024). Functions included related intercensal survival estimates, orphanhood, siblings survival, widowhood survival, census method 15q60{}_{15}q_{60} old ages extension mortality rates. contents consists R implementations materials Moultrie et al. (2012) United Nations (1983). idea package continue expanding content, suggestions welcome. indirect methods included can see fertsestr, …","code":""},{"path":"https://ivanwilli.github.io/MortIndEst/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Indirect estimates of adult mortality","text":"can install development version MortIndEst GitHub :","code":"# install.packages(\"pak\") pak::pak(\"IvanWilli/MortIndEst\")"},{"path":"https://ivanwilli.github.io/MortIndEst/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Indirect estimates of adult mortality","text":"basic example shows solve common problem:","code":"library(MortIndEst)"},{"path":[]},{"path":"https://ivanwilli.github.io/MortIndEst/reference/census_method.html","id":null,"dir":"Reference","previous_headings":"","what":"Intercensal survival estimates of 15q60 based on Li-Gerland (2012). Replicate examples from spreadsheet ","title":"Intercensal survival estimates of 15q60 based on Li-Gerland (2012). Replicate examples from spreadsheet ","text":"Adapted matlab code provided PG.","code":""},{"path":"https://ivanwilli.github.io/MortIndEst/reference/census_method.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Intercensal survival estimates of 15q60 based on Li-Gerland (2012). Replicate examples from spreadsheet ","text":"","code":"census_method(c1, c2, age, date1, date2)"},{"path":"https://ivanwilli.github.io/MortIndEst/reference/census_method.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Intercensal survival estimates of 15q60 based on Li-Gerland (2012). Replicate examples from spreadsheet ","text":"c1 numeric vector. Population observation 1. c2 numeric vector. Population observation 2. age integer vector. Lower bound age groups first census. Last age assumed lower age open age group. date1 Either Date class object unambiguous character string format \"YYYY-MM-DD\". Reference date source (typically census survey). date2 date1 observation 2.","code":""},{"path":"https://ivanwilli.github.io/MortIndEst/reference/census_method.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Intercensal survival estimates of 15q60 based on Li-Gerland (2012). Replicate examples from spreadsheet ","text":"","code":"if (FALSE) { # \\dontrun{ # Albania alb_males <- census_method(c(1326536, 566784, 687820),                            c(1441428,848609,762845),                            c(60, 65, 70), \"1981/3/1\", \"1998/3/2\") alb_females <- census_method(c(929401,435774,487321),                              c(1241433,698000,624473),                              c(60, 65, 70), \"1981/3/1\", \"1998/3/2\") c(alb_males$q60_15, alb_females$q60_15) } # }"},{"path":"https://ivanwilli.github.io/MortIndEst/reference/intercensal_surv_Preston_logit_var_r.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate life expectancy at age 5 (e(5)) using cohort relationship between two censuses, based on r-variable methods. — intercensal_surv_Preston_logit_var_r","title":"Estimate life expectancy at age 5 (e(5)) using cohort relationship between two censuses, based on r-variable methods. — intercensal_surv_Preston_logit_var_r","text":"Method developed Preston (2001, section 11.5.2)","code":""},{"path":"https://ivanwilli.github.io/MortIndEst/reference/intercensal_surv_Preston_logit_var_r.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate life expectancy at age 5 (e(5)) using cohort relationship between two censuses, based on r-variable methods. — intercensal_surv_Preston_logit_var_r","text":"","code":"intercensal_surv_Preston_logit_var_r(   c1,   c2,   date1,   date2,   age1 = 1:length(c1) - 1,   age2 = 1:length(c2) - 1,   sex = \"f\",   mlt_family = \"CD_West\",   mlt_e0 = 60,   ages_fit = NULL,   q0_5 = NULL,   verbose = FALSE )"},{"path":"https://ivanwilli.github.io/MortIndEst/reference/intercensal_surv_Preston_logit_var_r.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate life expectancy at age 5 (e(5)) using cohort relationship between two censuses, based on r-variable methods. — intercensal_surv_Preston_logit_var_r","text":"c1 numeric vector. Population counts five-age groups, first census exact reference date. c2 numeric vector. Population counts five-age groups, second census exact reference date. date1 Either Date class object unambiguous character string format \"YYYY-MM-DD\". Reference date first census. date2 Either Date class object unambiguous character string format \"YYYY-MM-DD\". Reference date second census. age1 integer vector. Lower bound age groups first census. Last age assumed OAG. age2 integer vector. Lower bound age groups second census. Last age assumed OAG. sex character string. Either \"m\" males, \"f\" females (default). mlt_family character string. Model life table family: \"Chilean\", \"East\", \"Far_East_Asian\", \"General\", \"Latin\", \"North\", \"South\", \"South_Asian\" \"West\" (default). ages_fit integer vector. Ages considered calculating median implied level age. default 10 70, depends data method. q05 numeric. Probability dying birth age 5.","code":""},{"path":"https://ivanwilli.github.io/MortIndEst/reference/intercensal_survival.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate adult mortality using cohort relationship between two censuses. — intercensal_survival","title":"Estimate adult mortality using cohort relationship between two censuses. — intercensal_survival","text":"function implements variety methods. See mhetod argument details. option considering HIV populations using Spectrum model (Stover others, 2012).","code":""},{"path":"https://ivanwilli.github.io/MortIndEst/reference/intercensal_survival.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate adult mortality using cohort relationship between two censuses. — intercensal_survival","text":"","code":"intercensal_survival(   c1,   c2,   date1,   date2,   age1 = seq(0, length(c1) * 5, 5),   age2 = seq(0, length(c2) * 5, 5),   sex = \"f\",   mlt_family = \"CD_West\",   method = \"match\",   ages_fit = seq(10, 70, 5),   e0_accept = c(20, 100),   q01_q05 = NULL,   mlt_e0_logit_feeney = NULL,   span_pre_smooth = NULL,   mlt_input_data = NULL,   HIV_prev = NULL,   HIV_art = NULL,   extrapLaw = \"makeham\",   verbose = TRUE )"},{"path":"https://ivanwilli.github.io/MortIndEst/reference/intercensal_survival.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate adult mortality using cohort relationship between two censuses. — intercensal_survival","text":"c1 numeric vector. Population counts five-age groups, first census exact reference date. c2 numeric vector. Population counts five-age groups, second census exact reference date. date1 Either Date class object unambiguous character string format \"YYYY-MM-DD\". Reference date first census. date2 Either Date class object unambiguous character string format \"YYYY-MM-DD\". Reference date second census. sex character string. Either \"m\" males, \"f\" females (default). mlt_family character string. Model life table family: \"Chilean\", \"East\", \"Far_East_Asian\", \"General\", \"Latin\", \"North\", \"South\", \"South_Asian\" \"West\" (default). method character. Options include: \"match\" use survival ratios finding best mlt level (default). \"bproj\" back-projection second census (UN, 1983). \"fproj\" forward-projection first census (UN, 1983). \"var-r\" variable-r method (Preston & Benet, 1986). \"feeney\" smoothing survival ratios survival function implementation Feeney (UN, 2002). logit based Preston (2001, section 11.5.2) ages_fit integer vector. Ages considered calculating median implied level age. default 10 70, depends data method. e0_accept integer vector. Range acceptable calculating median implied level age (avoid non-possible extrapolations). deafult 20 100. q01_q05 numeric. values case final life table computed considering child mortality input values. mlt_e0_logit_feeney numeric. Level reference logit feeney methods. span_pre_smooth numeric. smooth applied survival ratios age case null. Value span parameter loess function (0 1). Default FALSE. mlt_input_data data.frame. default used data  Morcast package. specific model can included (sure columns included names), ant mlt_family included category type column. HIV_prev numeric. Estimates population-based estimate HIV prevalence age. value assigned, assumed AIDS variation method based Spectrum patterns. HIV_art numeric. Estimate proportion using antiretroviral therapy (ART). extrapLaw character. mortality law chosen extension 100 age lt output. See Demotools::lt_abridged mode details age integer vector. Lower bound age groups second census. Last age assumed OAG.","code":""},{"path":"https://ivanwilli.github.io/MortIndEst/reference/intercensal_survival.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate adult mortality using cohort relationship between two censuses. — intercensal_survival","text":"","code":"if (FALSE) { # \\dontrun{ # match: PANAMA 1960-1970 from UNX (Table 174) panama_match <- intercensal_survival(   c1 = c(90071,76598,63635,54431,45634,37818,32179,28724,23974,20618,15068,11999,10283,6737,5242,6756),   c2 = c(114017,106944,85253,73381,63010,50924,40885,36115,29409,25360,21775,17632,13004,10061,6690,9873),   date1 = \"1960/12/11\",   date2 = \"1970/05/10\",   age1 = seq(0,75,5),   age2 = seq(0,75,5),   sex = \"f\",   mlt_family = \"CD_West\",   method = \"match\")  # UNX removes outliers from ages 10, 20, 35, 55 and 65 (implying the use of the initial OAG) # and get the mean 16.1 which is between 57.5 and 60 of e0. # by default the function only removes age 10 because nSx and give a result a higher one. # But is possible to reconstruct the result using the output where is found the best level for each age: panama_match$rank_match %>% mutate(color = ifelse(age %in% c(10, 20, 35, 55, 65), \"outlier\", \"used\")) %>% panama_match$rank_match %>% filter(!age %in% c(10, 20, 35, 55, 65)) %>% summarise(mean(e0_interp)) # to replicate this during the process, parameters ages_fit or e0_range_accept should be used intercensal_survival(   c1 = c(90071,76598,63635,54431,45634,37818,32179,28724,23974,20618,15068,11999,10283,6737,5242,6756),   c2 = c(114017,106944,85253,73381,63010,50924,40885,36115,29409,25360,21775,17632,13004,10061,6690,9873),   date1 = \"1960/12/11\",   date2 = \"1970/05/10\",   age1 = seq(0,75,5),   age2 = seq(0,75,5),   sex = \"f\",   mlt_family = \"CD_West\",   method = \"match\",   ages_fit = seq(0,75,5)[!seq(0,75,5) %in% c(10, 20, 35, 55, 65)])$selected_level  # projection. Indonesia Males 1980-1990, SA pattern (Preston, 2001; Box 11.4) - OK india_fproj <- intercensal_survival(   c1 = c(10815974, 10832383, 9131871, 7512541, 5978576, 5612684, 4022625, 4190944, 3644053, 3012756, 2717883, 1720501, 1559230, 811113, 689074, 688422),   c2 = c(10760859,11928095,11044127,9520440,7583305,7457150,6584325,5788441,4010254,3723922,3289190,2321621,2219069,1329162,945876,867636),   date1 = \"1980/07/01\",   date2 = \"1990/07/01\",   age1 = seq(0,75,5),   age2 = seq(0,75,5),   sex = \"m\",   mlt_family = \"UN_South_Asian\",   method = \"fproj\",   e0_accept = c(51,57),   ages_fit = seq(0,40,5))  # Feeney (2002, ESA/P/WP.175): japan females 1960-1970. OK - level at age 5, 68.7 (page 27) # level 72.5 has ~ e80=6.06. It´s not exact but very accurate japan_feeney <- intercensal_survival(   c1 <- c(3831870,4502304,5397061,4630775,4193184,4114704,3770907,3274822,           2744786,2559755,2160716,1839025,1494043,1133409,870238,577972,313781, 131547),   c2 <- c(4292503,3988292,3852101,4492096,5347327,4571868,4190340,4085338,           3674127,3198934,2648360,2382691,1970485,1584699,1172155,736258,408191, 53116),   date1 = \"1960/08/18\",   date2 = \"1970/08/18\",   age1 = seq(0,85,5),   age2 = seq(0,85,5),   sex = \"f\",   mlt_family = \"CD_West\",   method = \"feeney\",   ages_fit = 5,   mlt_e0_logit_feeney = 72.5) japan_feeney$rank_match  # Preston (1983) logit - r. Indian Females 1961-1971 - OK e5 = 51 load(\"intercensal_survival/all_censuses.rda\") all_censuses %>% filter(LocName == \"India\", TimeLabel %in% c(1961,1971)) %>% distinct(TimeMid) c1 <- all_censuses %>%   filter(LocName == \"India\", TimeLabel == 1961, SexName == \"Female\") %>%   select(AgeStart, AgeSpan, DataValue) c2 <- all_censuses %>%   filter(LocName == \"India\", TimeLabel == 1971, SexName == \"Female\") %>%   select(AgeStart, AgeSpan, DataValue) %>%   mutate(AgeStart = pmin(AgeStart, 70)) %>%   group_by(AgeStart) %>% summarise(DataValue = sum(DataValue)) intercensal_surv_Preston_logit_var_r(c1 = c1$DataValue,                                      c2 = c2$DataValue,                                      date1 = 1961.164,                                      date2 = 1971.249,                                      age1 = seq(0,70,5),                                      age2 = seq(0,70,5),                                      sex = \"f\",                                      mlt_family = \"CD_South\",                                      mlt_e0 = 50,                                      ages_fit = seq(5,65,5),                                      q0_5 = 1 - .776)  # variable-r (Preston-Bennet): PANAMA 1960-1970 from UNX (Table 186). - OK # It´s picked ages_fit 10:30 as Manual choose, because growing too much below that # promedio e(10) 17.1 ~ 60.3, en comparación con 60.1 panama_var_r <- intercensal_survival(   c1 = c(90071,76598,63635,54431,45634,37818,32179,28724,23974,20618,15068,11999,10283,6737,5242,6756),   c2 = c(114017,106944,85253,73381,63010,50924,40885,36115,29409,25360,21775,17632,13004,10061,6690,9873),   date1 = \"1960/12/11\",   date2 = \"1970/05/10\",   age1 = seq(0,75,5),   age2 = seq(0,75,5),   sex = \"f\",   mlt_family = \"CD_West\",   method = \"var-r\",   ages_fit = 10:30) panama_var_r$selected_level$mean_e0 } # }"},{"path":"https://ivanwilli.github.io/MortIndEst/reference/lt_extrap_constrained.html","id":null,"dir":"Reference","previous_headings":"","what":"Extrapolate mortality by age, constrained to a life expectancy value. — lt_extrap_constrained","title":"Extrapolate mortality by age, constrained to a life expectancy value. — lt_extrap_constrained","text":"Instead fitting parameters mortality law previous ages observed OAG, find parameters mortality function replicates e(OAG) (Ediev, 2016).","code":""},{"path":"https://ivanwilli.github.io/MortIndEst/reference/lt_extrap_constrained.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extrapolate mortality by age, constrained to a life expectancy value. — lt_extrap_constrained","text":"","code":"lt_extrap_constrained(   nMx,   Age,   Sex = \"m\",   method = \"classical\",   extrapLaw = \"Gompertz\",   eOAG = NULL,   OAnew = 100,   alpha = NULL,   beta = NULL,   r = NULL,   x_hat = NULL )"},{"path":"https://ivanwilli.github.io/MortIndEst/reference/lt_extrap_constrained.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extrapolate mortality by age, constrained to a life expectancy value. — lt_extrap_constrained","text":"nMx numeric. Vector mortality rates abridged single age classes. Age integer. Vector lower bound age class (integer abridged). Last age assumed lower age open age group. Sex character. Either male \"m\", female \"f\". method character. indicates calculate e_{OAG} methods: classical (default), H-C Mitra (Ediev, 2014). extrapLaw character. Available options: Gompertz Kannisto. eOAG numeric. estimate life expectancy input OAG age. value, replace method. OAnew integer. extrapolating, pick new OAG. alpha numeric. Parameter H-C method. Default values automatically selected input OAG. beta numeric. Parameter H-C method. Default values automatically selected input OAG. r numeric. Parameter H-C Mitra methods. Annual growth rate population open age interval. x_hat numeric. Parameter Mitra method. Mean age population open age interval.","code":""},{"path":"https://ivanwilli.github.io/MortIndEst/reference/lt_extrap_constrained.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extrapolate mortality by age, constrained to a life expectancy value. — lt_extrap_constrained","text":"","code":"if (FALSE) { # \\dontrun{ # Pakistan - 1968-1971 - males - OAG=65 - HLD (2020) nMx <- c(0.13328, 0.01539, 0.0031, 0.00155, 0.00169, 0.00185, 0.00201,          0.0024, 0.00289, 0.00367, 0.00498, 0.00736, 0.01214, 0.02301, 0.0879) Age <- c(0L, 1L, 5L, 10L, 15L, 20L, 25L, 30L, 35L, 40L, 45L, 50L, 55L, 60L, 65L) fit_extrap_constr <- lt_extrap_constrained(nMx, Age, OAnew = 100, extrapLaw = \"Gompertz\") fit_extrap_constr$ex[fit_extrap_constr$Age == 65] - (1/nMx[Age == 65]) # if some other value is required on e(65), like 10. The function forces extrapolation to fit that value. nMx <- c(0.13328, 0.01539, 0.0031, 0.00155, 0.00169, 0.00185, 0.00201,          0.0024, 0.00289, 0.00367, 0.00498, 0.00736, 0.01214, 0.02301, 0.0879) Age <- c(0L, 1L, 5L, 10L, 15L, 20L, 25L, 30L, 35L, 40L, 45L, 50L, 55L, 60L, 65L) fit_extrap_constr <- lt_extrap_constrained(nMx, Age, OAnew = 100, extrapLaw = \"Gompertz\", eOAG = 10)$lt fit_extrap_constr$ex[fit_extrap_constr$Age == 65] - 10 } # }"},{"path":"https://ivanwilli.github.io/MortIndEst/reference/mods.r.html","id":null,"dir":"Reference","previous_headings":"","what":"Spectrum model A list with Spectrum model for each sex (updated on ...) — mods.r","title":"Spectrum model A list with Spectrum model for each sex (updated on ...) — mods.r","text":"Spectrum model list Spectrum model sex (updated ...)","code":""},{"path":"https://ivanwilli.github.io/MortIndEst/reference/mods.r.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Spectrum model A list with Spectrum model for each sex (updated on ...) — mods.r","text":"","code":"mods.r"},{"path":"https://ivanwilli.github.io/MortIndEst/reference/mods.r.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Spectrum model A list with Spectrum model for each sex (updated on ...) — mods.r","text":"object class list length 2.","code":""},{"path":"https://ivanwilli.github.io/MortIndEst/reference/orphanhood_one.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate adult mortality with one survey/census from orphanhood data. — orphanhood_one","title":"Estimate adult mortality with one survey/census from orphanhood data. — orphanhood_one","text":"Follows IUSSP (2012) implementation estimate adult mortality orphanhood data, based Timæus (1992). function also include possibility match closest model life table (using Brass logit given pattern default method), specific family (family set, return results CD UN). Two options considering HIV populations: one following Timæus Nunn (1997) (implemented IUSSP (2012)), using Spectrum model (Stover others, 2012). last needs additional data HIV_prop_partner, HIV_art.","code":""},{"path":"https://ivanwilli.github.io/MortIndEst/reference/orphanhood_one.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate adult mortality with one survey/census from orphanhood data. — orphanhood_one","text":"","code":"orphanhood_one(   prop_not_orphan,   age,   maternal = TRUE,   mac = NULL,   date = NULL,   mlt_data_input = NULL,   mlt_family = \"CD_West\",   brass_logit = FALSE,   brass_logit_e0 = 60,   brass_logit_5q0 = NULL,   HIV_prev_antenatal = NULL,   HIV_vert_transm = 1/3,   HIV_fert_ratio = 3/4,   HIV_parents_surv = c(0.5, 0.75, rep(1, length(age) - 2)),   HIV_prop_partner = 1/2,   HIV_prev = NULL,   HIV_art = NULL,   e0_accept = c(20, 100),   verbose = TRUE )"},{"path":"https://ivanwilli.github.io/MortIndEst/reference/orphanhood_one.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate adult mortality with one survey/census from orphanhood data. — orphanhood_one","text":"prop_not_orphan numeric vector. Population proportion respondents mother/father alive, age groups. age integer vector. Lower bound age groups first census. Last age assumed lower age open age group. maternal logical. Either TRUE maternal orphanhood (default) FALSE paternal orphanhood. mac numeric. Mean age childbearing mothers/fathers. date Either Date class object unambiguous character string format \"YYYY-MM-DD\". Reference date source (typically census survey). mlt_data_input data.frame. NULL model life tables used, available Morcast package. specific pattern can included (l_x must included, see examples). mlt_family character. Options: \"CD_East\", \"CD_North\", \"CD_South\", \"CD_West\", \"UN_Chilean\", \"UN_Far_Eastern\", \"UN_General\", \"UN_Latin_American\", \"UN_South_Asian\". NULL returns results . brass_logit logical. level smoothing 1-parameter logit Brass. brass_logit_e0 numeric. Life expectancy birth brass_logit TRUE. brass_logit_5q0 numeric. Find best level brass_logit_e0 NULL. NULL, implied level replaces brass_logit_e0. HIV_prev_antenatal numeric. Estimates prevalence age HIV infection among women attending antenatal clinics. value assigned, assumed AIDS variation method. HIV_vert_transm numeric. Estimate proportion infants acquire HIV mothers. HIV_fert_ratio numeric. Estimate relative level fertility among HIV-positive women compared HIV-negative women. HIV_prop_partner numeric. Estimate proportion men infected female partner. e0_accept integer vector. Range acceptable calculating median implied level age (avoid non-possible extrapolations). deafult 20 100. HIV_prev_males numeric. Estimates population-based estimate HIV prevalence among men age. value assigned, assumed AIDS variation method.","code":""},{"path":"https://ivanwilli.github.io/MortIndEst/reference/orphanhood_one.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate adult mortality with one survey/census from orphanhood data. — orphanhood_one","text":"","code":"if (FALSE) { # \\dontrun{ # Examples from IUUSP Tools for Demographic Estimation # Orhpanhood 1 census # Maternal orphanhood - Male respondents - Irak (\"AM_Orphanhood_OneCensus_Basic - Iraq_v2.xlsx\") standard_iusssp <- data.frame(age = seq(15, 85, 5),                               lx = c(0.8868,0.8763,0.8621,0.8467,0.8296,0.8094,0.7845, 0.7527,0.7096,0.6515,0.5724,0.4700,0.3443,0.2101,0.0962)) irak_1997 <- orphanhood_one(prop_not_orphan = c(0.9918,0.9819,0.9665,0.9415,0.9005,0.8374,0.7678,0.6380,0.4941),                age = seq(5, 45, 5),                mac = 28.2807464,                date = 1997.79,                mlt_data_input = standard_iusssp,                brass_logit = TRUE) publ_rr <- data.frame(   age = seq(5, 45, 5),   q15_45 = c(0.072, 0.085, 0.096, 0.110, 0.126, 0.143, 0.137, 0.159, 0.167),   Date     = c(1994.2, 1992.1, 1990.1, 1988.5, 1987.0, 1985.9, 1985.5, NA, NA)) round(publ_rr$q15_45-irak_1997$adult_mort_index$q15_45, 2) # Orphanhood HIV # maternal Kenya HIV 1999 (\"AM_Orphanhood_OneCensus_AIDS Kenya_v2.xlsx\") standard_iusssp_aids <- data.frame(age = seq(15, 85, 5),                                    lx = c(0.8847,0.8603, 0.8173,0.7677, 0.7247,0.6913, 0.6645,0.6281, 0.5783,0.5110, 0.4225,0.3149, 0.2012,0.1021, 0.0377)) kenya_1999_maternal_aids <- orphanhood_one(   prop_not_orphan = c(0.9732, 0.9560, 0.9336, 0.9080, 0.8771, 0.8244, 0.7691, 0.6685, 0.5653),   age = seq(5, 45, 5),   mac = 26.75048387,   maternal = TRUE,   date = 1999.64,   mlt_data_input = standard_iusssp_aids,   brass_logit = TRUE,   HIV_prev_antenatal = c(.07, .01, rep(0,7)),   HIV_vert_transm = 1/3,   HIV_fert_ratio = 3/4)$adult_mort_index rr_45q15 <- c(0.368, 0.179, 0.183, 0.189, 0.183, 0.185, 0.165, 0.161, 0.139) round((kenya_1999_maternal_aids$q15_45/rr_45q15)-1,2) } # }"},{"path":"https://ivanwilli.github.io/MortIndEst/reference/orphanhood_two.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate adult mortality with two survey/census observations from orphanhood data. — orphanhood_two","title":"Estimate adult mortality with two survey/census observations from orphanhood data. — orphanhood_two","text":"Follows IUSSP(2012) template implementation Timæus (1992) estimate adult mortality using two observations. option using r-variable method (Preston, 2001, p. 239).","code":""},{"path":"https://ivanwilli.github.io/MortIndEst/reference/orphanhood_two.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate adult mortality with two survey/census observations from orphanhood data. — orphanhood_two","text":"","code":"orphanhood_two(   prop1_not_orphan,   prop2_not_orphan,   age1,   age2,   date1,   date2,   maternal = TRUE,   method = \"timæus\",   mac1 = NULL,   mac2 = NULL,   mlt_data_input = NULL,   mlt_family = NULL,   brass_logit = FALSE,   brass_logit_e0 = 60,   HIV_prev = NULL,   HIV_art = NULL,   HIV_5q0 = NULL,   e0_accept = c(20, 100),   verbose = TRUE )"},{"path":"https://ivanwilli.github.io/MortIndEst/reference/orphanhood_two.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate adult mortality with two survey/census observations from orphanhood data. — orphanhood_two","text":"prop1_not_orphan numeric vector. Population proportion respondents mother/father alive, age groups, source 1. prop2_not_orphan numeric vector. Population proportion respondents mother/father alive, age groups, source 2. age1 integer vector. Lower bound age groups first census. Last age assumed lower age open age group. age2 age1 second source. date1 Either Date class object unambiguous character string format \"YYYY-MM-DD\". Reference date source 1 (typically census survey). date2 date1 second source. maternal logical. Either TRUE maternal orphanhood (default) FALSE paternal orphanhood. method character. Choose timæus (default) (Timæus, 1991) preston_chen using r-variable method (Preston, 2001, p. 239). mac1 numeric. Mean age childbearing mothers/fathers source 1. mac2 mac1 second source. mlt_data_input data.frame. NULL model life tables used, available Morcast package. specific pattern can included (l_x must included see examples). mlt_family character. Options: \"CD_East\", \"CD_North\", \"CD_South\", \"CD_West\", \"UN_Chilean\", \"UN_Far_Eastern\", \"UN_General\", \"UN_Latin_American\", \"UN_South_Asian\". NULL returns . brass_logit logical. level smoothing 1-parameter logit Brass. brass_logit_e0 numeric. Life expectancy birth brass_logit TRUE. e0_accept integer vector. Range acceptable calculating median implied level age (avoid non-possible extrapolations). deafult 20 100.","code":""},{"path":"https://ivanwilli.github.io/MortIndEst/reference/orphanhood_two.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate adult mortality with two survey/census observations from orphanhood data. — orphanhood_two","text":"","code":"if (FALSE) { # \\dontrun{ # Example from IUUSP Tools for Demographic Estimation # Orhpanhood 2 census # Paternal orphanhood - Salomons 1987 - 1999 (\"AM_Orphanhood_TwoCensus - Solomons_2.xlsx\") salomons_1986_1999_paternal <- orphanhood_two(   prop1_not_orphan = c(0.9644 ,0.9340 ,0.8862 ,0.8088 ,0.7060 ,0.5812 ,0.4620 ,0.3317),   prop2_not_orphan = c(0.9710 ,0.9454 ,0.9071 ,0.8493 ,0.7717 ,0.6568 ,0.5375 ,0.3891),   age1 = seq(5, 40, 5), age2 = seq(5, 40, 5),   date1 = 1986.9, date2 = 1999.9,   maternal = FALSE,   mac1 = 34.08, mac2 = 34.08,   mlt_data_input = standard_iusssp,   brass_logit = TRUE)$adult_mort rr_45q15 <- c(0.175, 0.185,0.187,0.187) round((salomons_1986_1999_paternal$q15_45/rr_45q15)-1,2) # Preston_chen method # table 11.3 Preston (2001) r-var panama_1977_1980 <- orphanhood_two(   prop1_not_orphan = c(.996,.9844,.9753,.9556,.9195,.8908,.8157,.7618,.6166),   prop2_not_orphan = c(.9949,.9903,.9794,.9608,.9316,.8967,.8450,.7746,.6781),   age1 = seq(0, 40, 5),   age2 = seq(0, 40, 5),   date1 = \"1977-07-01\",   date2 = \"1980-05-11\",   maternal = TRUE,   mac1 = 27,   mac2 = 27,   method = \"preston_chen\",   mlt_data_input = NULL,   mlt_family = \"CD_West\",   brass_logit = FALSE,   brass_logit_e0 = 60) rr_levels <- c(22.4, 23, 22.7, 22.6, 22.9, 23, 23.5, 23.9) } # }"},{"path":"https://ivanwilli.github.io/MortIndEst/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"https://ivanwilli.github.io/MortIndEst/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"https://ivanwilli.github.io/MortIndEst/reference/pipe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipe operator — %>%","text":"lhs value magrittr placeholder. rhs function call using magrittr semantics.","code":""},{"path":"https://ivanwilli.github.io/MortIndEst/reference/pipe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipe operator — %>%","text":"result calling rhs(lhs).","code":""},{"path":"https://ivanwilli.github.io/MortIndEst/reference/siblings_one.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate adult mortality with one survey/census from sibling survival data. — siblings_one","title":"Estimate adult mortality with one survey/census from sibling survival data. — siblings_one","text":"Follows IUSSP(2012) template implementation estimate adult mortality siblings data, based Timæus, Zaba Ali (2001). function also include possibility match closest model life table (using Brass logit given pattern default method), specific family (family set, return results CD UN). option considering HIV populations using Spectrum model (Stover others, 2012). #' @param prop_not_dead numeric vector. Population proportion respondents mother/father alive, age groups.","code":""},{"path":"https://ivanwilli.github.io/MortIndEst/reference/siblings_one.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate adult mortality with one survey/census from sibling survival data. — siblings_one","text":"","code":"siblings_one(   prop_not_dead,   age,   sex_siblings = \"f\",   date = NULL,   mlt_data_input = NULL,   mlt_family = \"CD_West\",   brass_logit = FALSE,   brass_logit_e0 = 60,   brass_logit_5q0 = NULL,   HIV_prev = NULL,   HIV_art = NULL,   e0_accept = c(20, 100),   verbose = TRUE )"},{"path":"https://ivanwilli.github.io/MortIndEst/reference/siblings_one.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate adult mortality with one survey/census from sibling survival data. — siblings_one","text":"age integer vector. Lower bound age groups first census. Last age assumed lower age open age group. sex_siblings logical. Either TRUE maternal orphanhood (default) FALSE paternal orphanhood. date Either Date class object unambiguous character string format \"YYYY-MM-DD\". Reference date source (typically census survey). mlt_data_input data.frame. NULL model life tables used, available Morcast package. specific pattern can included (l_x must included see examples). mlt_family character. Options: \"CD_East\", \"CD_North\", \"CD_South\", \"CD_West\", \"UN_Chilean\", \"UN_Far_Eastern\", \"UN_General\", \"UN_Latin_American\", \"UN_South_Asian\". NULL returns . brass_logit logical. level smoothing 1-parameter logit Brass. brass_logit_e0 numeric. Life expectancy birth brass_logit TRUE. brass_logit_5q0 numeric. Find best level brass_logit_e0 NULL. NULL, implied level replaces brass_logit_e0. HIV_prev numeric. Estimates population-based estimate HIV prevalence among men age. value assigned, assumed AIDS variation method. HIV_art numeric. Estimate proportion men infected female partner. e0_accept integer vector. Range acceptable calculating median implied level age (avoid non-possible extrapolations). deafult 20 100.","code":""},{"path":"https://ivanwilli.github.io/MortIndEst/reference/siblings_one.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate adult mortality with one survey/census from sibling survival data. — siblings_one","text":"","code":"if (FALSE) { # \\dontrun{ # Examples from IUUSP (2012) Tools for Demographic Estimation # Bangladesh 2003, all brothers. \"AM_Siblings_Indirect - Bangladesh_2_5.xlsx\" standard_iusssp <- c(-0.8899, -0.8600,-0.8202,-0.7801, -0.7371, -0.6902, -0.6345, -0.5682, -0.4824, -0.3737) standard_iusssp <- data.frame(age = seq(15, 60, 5), lx = 1/(1+exp(2*standard_iusssp))) iussp_all_brothers <- siblings_one(prop_not_dead = c(0.946425,0.943374,0.941222,0.935335,0.928475,0.882786,0.832533),                                    age = seq(15, 45, 5),                                    sex_siblings = \"m\",                                    date = 2003.4,                                    mlt_data_input = standard_iusssp,                                    brass_logit = TRUE) iussp_results <- c(0.417, 0.344, 0.288, 0.242, 0.285, 0.306) round(iussp_all_brothers$adult_mort_index$q15_45 - iussp_results,3)  # Bangladesh 2003, all sisters. \"AM_Siblings_Indirect - Bangladesh_2_5.xlsx\" iussp_all_sisters <- siblings_one(prop_not_dead = c(0.9708,0.9447,0.9313,0.9180,0.9010,0.8748,0.8189),                                   age = seq(15, 45, 5),                                   sex_siblings = \"f\",                                   date = 2003.4,                                   mlt_data_input = standard_iusssp,                                   brass_logit = TRUE) iussp_results <- c(0.411, 0.384, 0.345, 0.315, 0.301, 0.327) round(iussp_all_sisters$adult_mort_index$q15_45 - iussp_results,3) } # }"},{"path":"https://ivanwilli.github.io/MortIndEst/reference/widowhood_one.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate adult mortality with one survey/census from widowhood data. — widowhood_one","title":"Estimate adult mortality with one survey/census from widowhood data. — widowhood_one","text":"Follows Hill Trusell (1977) revised regression coefficients, included Manual X UN. function also include possibility using Brass logit given pattern default method. option considering HIV populations using Spectrum model (Stover others, 2012).","code":""},{"path":"https://ivanwilli.github.io/MortIndEst/reference/widowhood_one.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate adult mortality with one survey/census from widowhood data. — widowhood_one","text":"","code":"widowhood_one(   prop_not_widowed,   age,   sex_spouse = \"f\",   smam_f = NULL,   smam_m = NULL,   date = NULL,   mlt_data_input = NULL,   mlt_family = \"CD_West\",   brass_logit = FALSE,   brass_logit_e0 = 60,   brass_logit_5q0 = NULL,   HIV_prev = NULL,   HIV_art = NULL,   e0_accept = c(20, 100),   verbose = TRUE )"},{"path":"https://ivanwilli.github.io/MortIndEst/reference/widowhood_one.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate adult mortality with one survey/census from widowhood data. — widowhood_one","text":"prop_not_widowed numeric vector. Population proportion ever-married (first spouse assumption), age groups. age integer vector. Lower bound age groups. Last age assumed lower age open age group. sex_spouse character. \"f\" male respondent (estimate female mortality), viceversa. smam_f numeric. Singulate mean age marriage females. smam_m numeric. Singulate mean age marriage males. date Either Date class object unambiguous character string format \"YYYY-MM-DD\". Reference date source (typically census survey). mlt_data_input data.frame. NULL model life tables used, available Morcast package. specific pattern can included (l_x must included see examples). mlt_family character. Options: \"CD_East\", \"CD_North\", \"CD_South\", \"CD_West\", \"UN_Chilean\", \"UN_Far_Eastern\", \"UN_General\", \"UN_Latin_American\", \"UN_South_Asian\". NULL returns . brass_logit logical. level smoothing 1-parameter logit Brass. brass_logit_e0 numeric. Life expectancy birth brass_logit TRUE. brass_logit_5q0 numeric. Find best level brass_logit_e0 NULL. NULL, implied level replaces brass_logit_e0. HIV_prev numeric. Estimates population-based estimate HIV prevalence among men age. value assigned, assumed AIDS variation method. HIV_art numeric. Estimate proportion men infected female partner.","code":""},{"path":"https://ivanwilli.github.io/MortIndEst/reference/widowhood_one.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate adult mortality with one survey/census from widowhood data. — widowhood_one","text":"","code":"if (FALSE) { # \\dontrun{ # Bolivia 1975. Example from UN Manual X. manualX_bolivia_male <- widowhood_one(prop_not_widowed = c(0.9798, 0.9729, 0.9514, 0.9170, 0.8735, 0.8195, 0.7054, 0.6520),                                       age = seq(20, 55, 5),                                       sex_spouse = \"m\",                                       smam_f = 23.2 ,                                       smam_m = 25.3 ,                                       date = 1975.6,                                       mlt_family = \"CD_West\",                                       brass_logit = FALSE) un_results_py_n <- c(.956, .931, .894, .85, .798, .687, .638) un_results_level <- c(16.3, 16.6, 15.7, 15.4, 15.3, 13.3, 14.7) round(unique(manualX_bolivia_male$lx_estimates$py_n) - un_results_py_n,3) un_results_e0 <- approx(13:17, c(47.082, 49.546, 51.816, 54.122, 56.45), un_results_level)$y round(unique(manualX_bolivia_male$lx_estimates$e0_interp) - un_results_e0,1) # ok with MORTPACK TOO } # }"}]
